(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{526:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(7876);let a=(0,s(4232).forwardRef)((e,t)=>{let{label:s,error:a,className:o="",containerClassName:l="",...i}=e;return(0,r.jsxs)("div",{className:"mb-4 ".concat(l),children:[s&&(0,r.jsx)("label",{htmlFor:i.id,className:"block text-sm font-medium text-gray-700 mb-1",children:s}),(0,r.jsx)("input",{ref:t,className:"w-full px-3 py-2 text-black border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(a?"border-red-500":"border-gray-300"," ").concat(o),...i}),a&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:"string"==typeof a?a:a.message})]})});a.displayName="Input";let o=a},3003:(e,t,s)=>{"use strict";s.r(t),s.d(t,{__N_SSP:()=>p,default:()=>f});var r=s(7876),a=s(8992),o=s(3810),l=s(513);let i=l.z.object({email:l.z.string().email("Email tidak valid").min(1,"Email harus diisi"),password:l.z.string().min(6,"Password minimal 6 karakter")});var n=s(526),c=s(9174),d=s(7055),m=s(5682);let u=()=>{var e,t;let{login:s,isLoading:l}=(0,d.A)(),{showError:u}=(0,m.d)(),{register:h,handleSubmit:g,formState:{errors:x}}=(0,a.mN)({resolver:(0,o.u)(i)}),p=async e=>{try{await s(e)}catch(e){u(e.message||"Login gagal")}};return(0,r.jsxs)("form",{onSubmit:g(p),className:"space-y-6",children:[(0,r.jsx)("div",{children:(0,r.jsx)(n.A,{label:"Email",id:"email",type:"email",placeholder:"email@contoh.com",...h("email"),error:null==(e=x.email)?void 0:e.message,autoComplete:"username"})}),(0,r.jsx)("div",{children:(0,r.jsx)(n.A,{label:"Password",id:"password",type:"password",placeholder:"••••••••",...h("password"),error:null==(t=x.password)?void 0:t.message,autoComplete:"current-password"})}),(0,r.jsx)("div",{children:(0,r.jsx)(c.A,{type:"submit",variant:"primary",isLoading:l,className:"w-full",children:"Masuk"})})]})};var h=s(7328),g=s.n(h);let x=e=>{let{children:t,title:s="Login"}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(g(),{children:[(0,r.jsxs)("title",{children:[s," | Aplikasi Produk"]}),(0,r.jsx)("meta",{name:"description",content:"Halaman otentikasi"})]}),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,r.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,r.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:s})}),(0,r.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,r.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:t})})]})]})};var p=!0;function f(){return(0,r.jsx)(x,{title:"Login Sistem",children:(0,r.jsx)(u,{})})}},5682:(e,t,s)=>{"use strict";s.d(t,{d:()=>o});var r=s(4301);let a={position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},o=()=>({showSuccess:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.oR.success(e,{...a,...t})},showError:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.oR.error(e,{...a,...t})},showInfo:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.oR.info(e,{...a,...t})},showWarning:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.oR.warn(e,{...a,...t})}})},6037:(e,t,s)=>{"use strict";s.d(t,{G:()=>r});let r=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={"Content-Type":"application/json"};t&&(r.Authorization="Bearer ".concat(t));let a=await fetch(e,{...s,headers:{...r,...s.headers}}),o=await a.json();if(!a.ok)throw Error(o.message||"An error occurred");return o}},7055:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var r=s(4232),a=s(9099),o=s(3422),l=s(6037);let i=async e=>(0,l.G)("".concat("http://localhost:5050/api","/auth/login"),"",{method:"POST",body:JSON.stringify(e)});var n=s(5682);let c=()=>{let[e,t]=(0,r.useState)(!1),s=(0,a.useRouter)(),{showSuccess:l,showError:c}=(0,n.d)();return{login:async e=>{t(!0);try{let{token:t}=await i(e);(0,o.setCookie)(null,"token",t,{maxAge:86400,path:"/"}),l("Login successful!"),s.push("/")}catch(e){c(e.message||"Login failed")}finally{t(!1)}},logout:()=>{(0,o.destroyCookie)(null,"token"),s.push("/login")},isLoading:e}}},7984:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(3003)}])},9174:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(7876),a=s(1923);let o={primary:"bg-blue-600 hover:bg-blue-700 text-white",secondary:"bg-gray-600 hover:bg-gray-700 text-white",danger:"bg-red-600 hover:bg-red-700 text-white",outline:"bg-transparent border border-gray-300 hover:bg-gray-50 text-gray-700"},l=e=>{let{variant:t="primary",isLoading:s=!1,fullWidth:l=!1,className:i="",children:n,...c}=e;return(0,r.jsx)("button",{className:"flex items-center justify-center px-4 py-2 rounded-md font-medium transition-colors cursor-pointer ".concat(o[t]," ").concat(l?"w-full":""," ").concat(i),disabled:s,...c,children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.A,{size:20,color:"#ffffff",className:"mr-2"}),"Processing..."]}):n})}}},e=>{var t=t=>e(e.s=t);e.O(0,[302,636,593,792],()=>t(7984)),_N_E=e.O()}]);