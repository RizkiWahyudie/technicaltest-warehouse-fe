(()=>{var e={};e.id=295,e.ids=[220,295,636],e.modules={231:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{A:()=>p});var a=r(8732),i=r(6884),o=r(8825),n=r(2398),l=r(8155),c=r(6346),d=r(1440),u=r(4255),m=e([i,o,n,d,u]);[i,o,n,d,u]=m.then?(await m)():m;let p=()=>{let{login:e,isLoading:t}=(0,d.A)(),{showError:r}=(0,u.d)(),{register:s,handleSubmit:m,formState:{errors:p}}=(0,i.useForm)({resolver:(0,o.zodResolver)(n.X)}),g=async t=>{try{await e(t)}catch(e){r(e.message||"Login gagal")}};return(0,a.jsxs)("form",{onSubmit:m(g),className:"space-y-6",children:[(0,a.jsx)("div",{children:(0,a.jsx)(l.A,{label:"Email",id:"email",type:"email",placeholder:"email@contoh.com",...s("email"),error:p.email?.message,autoComplete:"username"})}),(0,a.jsx)("div",{children:(0,a.jsx)(l.A,{label:"Password",id:"password",type:"password",placeholder:"••••••••",...s("password"),error:p.password?.message,autoComplete:"current-password"})}),(0,a.jsx)("div",{children:(0,a.jsx)(c.A,{type:"submit",variant:"primary",isLoading:t,className:"w-full",children:"Masuk"})})]})};s()}catch(e){s(e)}})},361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},579:(e,t,r)=>{"use strict";r.d(t,{i:()=>a});var s=r(2572);let a=async e=>(0,s.G)("http://localhost:5050/api/auth/login","",{method:"POST",body:JSON.stringify(e)})},979:()=>{},1440:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{A:()=>d});var a=r(2015),i=r(4233),o=r(9964),n=r(579),l=r(4255),c=e([l]);l=(c.then?(await c)():c)[0];let d=()=>{let[e,t]=(0,a.useState)(!1),r=(0,i.useRouter)(),{showSuccess:s,showError:c}=(0,l.d)();return{login:async e=>{t(!0);try{let{token:t}=await (0,n.i)(e);(0,o.setCookie)(null,"token",t,{maxAge:86400,path:"/"}),s("Login successful!"),r.push("/")}catch(e){c(e.message||"Login failed")}finally{t(!1)}},logout:()=>{(0,o.destroyCookie)(null,"token"),r.push("/login")},isLoading:e}};s()}catch(e){s(e)}})},1582:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>c,getServerSideProps:()=>d});var a=r(8732),i=r(9964),o=r(231),n=r(5416),l=e([o]);function c(){return(0,a.jsx)(n.A,{title:"Login Sistem",children:(0,a.jsx)(o.A,{})})}o=(l.then?(await l)():l)[0];let d=async e=>{let{token:t}=(0,i.parseCookies)(e);return t?{redirect:{destination:"/",permanent:!1}}:{props:{}}};s()}catch(e){s(e)}})},1779:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(8732),a=r(2341);function i(){return(0,s.jsxs)(a.Html,{lang:"en",children:[(0,s.jsx)(a.Head,{}),(0,s.jsxs)("body",{className:"antialiased",children:[(0,s.jsx)(a.Main,{}),(0,s.jsx)(a.NextScript,{})]})]})}},1923:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>h,default:()=>u,getServerSideProps:()=>g,getStaticPaths:()=>p,getStaticProps:()=>m,reportWebVitals:()=>x,routeModule:()=>w,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>j,unstable_getStaticParams:()=>b,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>f});var a=r(3885),i=r(237),o=r(1413),n=r(1779),l=r(2081),c=r(1582),d=e([l,c]);[l,c]=d.then?(await d)():d;let u=(0,o.M)(c,"default"),m=(0,o.M)(c,"getStaticProps"),p=(0,o.M)(c,"getStaticPaths"),g=(0,o.M)(c,"getServerSideProps"),h=(0,o.M)(c,"config"),x=(0,o.M)(c,"reportWebVitals"),f=(0,o.M)(c,"unstable_getStaticProps"),y=(0,o.M)(c,"unstable_getStaticPaths"),b=(0,o.M)(c,"unstable_getStaticParams"),v=(0,o.M)(c,"unstable_getServerProps"),j=(0,o.M)(c,"unstable_getServerSideProps"),w=new a.PagesRouteModule({definition:{kind:i.A.PAGES,page:"/login",pathname:"/login",bundlePath:"",filename:""},components:{App:l.default,Document:n.default},userland:c});s()}catch(e){s(e)}})},2015:e=>{"use strict";e.exports=require("react")},2081:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>n});var a=r(8732);r(979);var i=r(4391),o=e([i]);function n({Component:e,pageProps:t}){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e,{...t}),(0,a.jsx)(i.ToastContainer,{})]})}i=(o.then?(await o)():o)[0],s()}catch(e){s(e)}})},2326:e=>{"use strict";e.exports=require("react-dom")},2398:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{X:()=>o});var a=r(2971),i=e([a]);let o=(a=(i.then?(await i)():i)[0]).z.object({email:a.z.string().email("Email tidak valid").min(1,"Email harus diisi"),password:a.z.string().min(6,"Password minimal 6 karakter")});s()}catch(e){s(e)}})},2572:(e,t,r)=>{"use strict";r.d(t,{G:()=>s});let s=async(e,t="",r={})=>{let s={"Content-Type":"application/json"};t&&(s.Authorization=`Bearer ${t}`);let a=await fetch(e,{...r,headers:{...s,...r.headers}}),i=await a.json();if(!a.ok)throw Error(i.message||"An error occurred");return i}},2971:e=>{"use strict";e.exports=import("zod")},3873:e=>{"use strict";e.exports=require("path")},4075:e=>{"use strict";e.exports=require("zlib")},4255:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{d:()=>n});var a=r(4391),i=e([a]);a=(i.then?(await i)():i)[0];let o={position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},n=()=>({showSuccess:(e,t={})=>{a.toast.success(e,{...o,...t})},showError:(e,t={})=>{a.toast.error(e,{...o,...t})},showInfo:(e,t={})=>{a.toast.info(e,{...o,...t})},showWarning:(e,t={})=>{a.toast.warn(e,{...o,...t})}});s()}catch(e){s(e)}})},4391:e=>{"use strict";e.exports=import("react-toastify")},5416:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(8732),a=r(9788),i=r.n(a);let o=({children:e,title:t="Login"})=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i(),{children:[(0,s.jsxs)("title",{children:[t," | Aplikasi Produk"]}),(0,s.jsx)("meta",{name:"description",content:"Halaman otentikasi"})]}),(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,s.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,s.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:t})}),(0,s.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,s.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:e})})]})]})},6346:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(8732);let a=require("react-spinners"),i={primary:"bg-blue-600 hover:bg-blue-700 text-white",secondary:"bg-gray-600 hover:bg-gray-700 text-white",danger:"bg-red-600 hover:bg-red-700 text-white",outline:"bg-transparent border border-gray-300 hover:bg-gray-50 text-gray-700"},o=({variant:e="primary",isLoading:t=!1,fullWidth:r=!1,className:o="",children:n,...l})=>(0,s.jsx)("button",{className:`flex items-center justify-center px-4 py-2 rounded-md font-medium transition-colors cursor-pointer ${i[e]} ${r?"w-full":""} ${o}`,disabled:t,...l,children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.ClipLoader,{size:20,color:"#ffffff",className:"mr-2"}),"Processing..."]}):n})},6884:e=>{"use strict";e.exports=import("react-hook-form")},7910:e=>{"use strict";e.exports=require("stream")},8155:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(8732);let a=(0,r(2015).forwardRef)(({label:e,error:t,className:r="",containerClassName:a="",...i},o)=>(0,s.jsxs)("div",{className:`mb-4 ${a}`,children:[e&&(0,s.jsx)("label",{htmlFor:i.id,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,s.jsx)("input",{ref:o,className:`w-full px-3 py-2 text-black border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${t?"border-red-500":"border-gray-300"} ${r}`,...i}),t&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:"string"==typeof t?t:t.message})]}));a.displayName="Input";let i=a},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},8825:e=>{"use strict";e.exports=import("@hookform/resolvers/zod")},9021:e=>{"use strict";e.exports=require("fs")},9964:e=>{"use strict";e.exports=require("nookies")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[341,678],()=>r(1923));module.exports=s})();